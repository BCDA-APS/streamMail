#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBDEND


record(ai, "$(P)$(SM):timer$(N):secsPastEpoch") {
  field(DESC, "Seconds Past Epoch")
  field(SCAN, "Passive")
  field(PINI, "NO")
  field(DTYP, "Sec Past Epoch")
  field(PHAS, "1")
  field(PREC, "2")
}

record(transform, "$(P)$(SM):timer$(N):calcElapsed") {
  field(SCAN, "Passive")
  field(CLCB, "d?a:b")
  field(CLCC, "a-b")
  field(CLCD, "0")
  field(INPA, "$(P)$(SM):timer$(N):secsPastEpoch.VAL PP")
  field(OUTC, "$(P)$(SM):timer$(N):elapsedSecs.VAL PP")
  field(PREC, "2")
  field(CLCF, "e-c")
  field(CLCG, "e?e-c:0")
  field(OUTF, "$(P)$(SM):timer$(N):doneCalc.C PP")
  field(CMTA, "raw secsPastEpoch")
  field(CMTB, "start time")
  field(CMTC, "elapsed time")
  field(CMTD, "reset command")
  field(CMTE, "preset")
  field(CMTF, "time remaining")
  field(CMTG, "remaining for display")
  field(OUTG, "$(P)$(SM):timer$(N):remainingSecs PP")
  field(CLCH, "h")
  field(CMTH, "update period")
}

record(ao, "$(P)$(SM):timer$(N):elapsedSecs") {
  field(PREC, "2")
}

record(bo, "$(P)$(SM):timer$(N):Go") {
  field(FLNK, "$(P)$(SM):timer$(N):resetOnGo")
  field(ZNAM, "Stop")
  field(ONAM, "Go/Reset")
  field(OUT, "$(P)$(SM):timer$(N):setBusy.A PP")
}

record(stringin, "$(P)$(SM):timer$(N):currentTime") {
  field(SCAN, "Passive")
  field(DTYP, "Soft Timestamp")
  field(INP, "@%Y/%m/%d %H:%M:%S.%03f")
}

record(calcout, "$(P)$(SM):timer$(N):doneCalc") {
  field(CALC, "(a>0)&&b&&(c<=0.05)")
  field(INPA, "$(P)$(SM):timer$(N):calcElapsed.E")
  field(INPB, "$(P)$(SM):timer$(N):Go.VAL")
  field(OUT, "$(P)$(SM):timer$(N):doStop1 PP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "0")
}

record(ao, "$(P)$(SM):timer$(N):preset") {
  field(PREC, "2")
  field(OUT, "$(P)$(SM):timer$(N):calcElapsed.E PP")
  field(PINI, "YES")
}

record(bo, "$(P)$(SM):timer$(N):resetOnGo") {
  field(UDF, "0")
  field(DOL, "1")
  field(OUT, "$(P)$(SM):timer$(N):calcElapsed.D PP")
  field(PINI, "NO")
  field(DISV, "0")
  field(SDIS, "$(P)$(SM):timer$(N):Go.VAL")
  field(FLNK, "$(P)$(SM):timer$(N):startTime")
}

record(stringin, "$(P)$(SM):timer$(N):startTime") {
  field(SCAN, "Passive")
  field(DTYP, "Soft Timestamp")
  field(INP, "@%Y/%m/%d %H:%M:%S.%03f")
}

record(bo, "$(P)$(SM):timer$(N):doStop") {
  field(OUT, "$(P)$(SM):timer$(N):Go PP")
  field(DESC, "FLNK belongs to user")
  field(FLNK, "$(TFLNK).PROC CA")
}

record(fanout, "$(P)$(SM):timer$(N):scanFanout") {
  field(LNK1, "$(P)$(SM):timer$(N):currentTime")
  field(LNK2, "$(P)$(SM):timer$(N):calcElapsed")
}

record(bo, "$(P)$(SM):timer$(N):update") {
  field(SCAN, ".1 second")
  field(FLNK, "$(P)$(SM):timer$(N):scanFanout")
  field(DISV, "0")
  field(SDIS, "$(P)$(SM):timer$(N):Go")
}

record(bo, "$(P)$(SM):timer$(N):updateCurrent") {
  field(SCAN, "1 second")
  field(FLNK, "$(P)$(SM):timer$(N):currentTime")
  field(SDIS, "$(P)$(SM):timer$(N):Go")
}

record(ao, "$(P)$(SM):timer$(N):remainingSecs") {
  field(PREC, "2")
}

record(busy, "$(P)$(SM):timer$(N):busy") {
}

record(calcout, "$(P)$(SM):timer$(N):setBusy") {
  field(CALC, "A")
  field(OUT, "$(P)$(SM):timer$(N):busy PP")
  field(OOPT, "Transition To Non-zero")
}


record(bo, "$(P)$(SM):timer$(N):clearBusy") {
  field(OMSL, "closed_loop")
  field(DOL, "0")
  field(OUT, "$(P)$(SM):timer$(N):busy CA")
}

record(bo, "$(P)$(SM):timer$(N):doStop1") {
  field(FLNK, "$(P)$(SM):timer$(N):clearBusy")
  field(OMSL, "closed_loop")
  field(DOL, "0")
  field(OUT, "$(P)$(SM):timer$(N):doStop PP")
}

#! Further lines contain data used by VisualDCT
#! View(1032,139,0.9)
#! Record("$(P)$(SM):timer$(N):secsPastEpoch",1360,442,0,0,"$(P)$(SM):timer$(N):secsPastEpoch")
#! Field("$(P)$(SM):timer$(N):secsPastEpoch.VAL",16777215,1,"$(P)$(SM):timer$(N):secsPastEpoch.VAL")
#! Record("$(P)$(SM):timer$(N):calcElapsed",1820,223,0,0,"$(P)$(SM):timer$(N):calcElapsed")
#! Field("$(P)$(SM):timer$(N):calcElapsed.INPA",16777215,0,"$(P)$(SM):timer$(N):calcElapsed.INPA")
#! Link("$(P)$(SM):timer$(N):calcElapsed.INPA","$(P)$(SM):timer$(N):secsPastEpoch.VAL")
#! Field("$(P)$(SM):timer$(N):calcElapsed.OUTC",16777215,1,"$(P)$(SM):timer$(N):calcElapsed.OUTC")
#! Link("$(P)$(SM):timer$(N):calcElapsed.OUTC","$(P)$(SM):timer$(N):elapsedSecs.VAL")
#! Field("$(P)$(SM):timer$(N):calcElapsed.D",16777215,0,"$(P)$(SM):timer$(N):calcElapsed.D")
#! Field("$(P)$(SM):timer$(N):calcElapsed.E",16777215,1,"$(P)$(SM):timer$(N):calcElapsed.E")
#! Field("$(P)$(SM):timer$(N):calcElapsed.OUTF",16777215,1,"$(P)$(SM):timer$(N):calcElapsed.OUTF")
#! Link("$(P)$(SM):timer$(N):calcElapsed.OUTF","$(P)$(SM):timer$(N):doneCalc.C")
#! Field("$(P)$(SM):timer$(N):calcElapsed.OUTG",16777215,1,"$(P)$(SM):timer$(N):calcElapsed.OUTG")
#! Link("$(P)$(SM):timer$(N):calcElapsed.OUTG","$(P)$(SM):timer$(N):remainingSecs.VAL")
#! Record("$(P)$(SM):timer$(N):elapsedSecs",2140,433,0,1,"$(P)$(SM):timer$(N):elapsedSecs")
#! Field("$(P)$(SM):timer$(N):elapsedSecs.VAL",16777215,0,"$(P)$(SM):timer$(N):elapsedSecs.VAL")
#! Record("$(P)$(SM):timer$(N):Go",980,449,0,1,"$(P)$(SM):timer$(N):Go")
#! Field("$(P)$(SM):timer$(N):Go.VAL",16777215,1,"$(P)$(SM):timer$(N):Go.VAL")
#! Field("$(P)$(SM):timer$(N):Go.FLNK",16777215,1,"$(P)$(SM):timer$(N):Go.FLNK")
#! Link("$(P)$(SM):timer$(N):Go.FLNK","$(P)$(SM):timer$(N):resetOnGo")
#! Field("$(P)$(SM):timer$(N):Go.OUT",16777215,1,"$(P)$(SM):timer$(N):Go.OUT")
#! Link("$(P)$(SM):timer$(N):Go.OUT","$(P)$(SM):timer$(N):Go/OUT")
#! Connector("$(P)$(SM):timer$(N):Go/OUT","$(P)$(SM):timer$(N):setBusy.A",1200,770,16777215,"",0)
#! Record("$(P)$(SM):timer$(N):currentTime",1820,404,0,0,"$(P)$(SM):timer$(N):currentTime")
#! Visibility("$(P)$(SM):timer$(N):currentTime.SCAN",1)
#! Record("$(P)$(SM):timer$(N):doneCalc",2140,447,0,1,"$(P)$(SM):timer$(N):doneCalc")
#! Field("$(P)$(SM):timer$(N):doneCalc.INPA",16777215,0,"$(P)$(SM):timer$(N):doneCalc.INPA")
#! Link("$(P)$(SM):timer$(N):doneCalc.INPA","$(P)$(SM):timer$(N):doneCalc/INPA")
#! Field("$(P)$(SM):timer$(N):doneCalc.INPB",16777215,0,"$(P)$(SM):timer$(N):doneCalc.INPB")
#! Link("$(P)$(SM):timer$(N):doneCalc.INPB","$(P)$(SM):timer$(N):doneCalc/INPB")
#! Field("$(P)$(SM):timer$(N):doneCalc.C",16777215,0,"$(P)$(SM):timer$(N):doneCalc.C")
#! Field("$(P)$(SM):timer$(N):doneCalc.OUT",16777215,1,"$(P)$(SM):timer$(N):doneCalc.OUT")
#! Link("$(P)$(SM):timer$(N):doneCalc.OUT","$(P)$(SM):timer$(N):doStop1.VAL")
#! Connector("$(P)$(SM):timer$(N):doneCalc/INPB","$(P)$(SM):timer$(N):doneCalc/INPB1",2060,835,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):doneCalc/INPB1","$(P)$(SM):timer$(N):doneCalc/INPB2",1490,1040,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):doneCalc/INPB2","$(P)$(SM):timer$(N):Go.VAL",920,805,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):doneCalc/INPA","$(P)$(SM):timer$(N):calcElapsed.E",2040,620,16777215,"",0)
#! Record("$(P)$(SM):timer$(N):preset",1360,724,0,1,"$(P)$(SM):timer$(N):preset")
#! Field("$(P)$(SM):timer$(N):preset.OUT",16777215,1,"$(P)$(SM):timer$(N):preset.OUT")
#! Link("$(P)$(SM):timer$(N):preset.OUT","$(P)$(SM):timer$(N):preset/OUT")
#! Connector("$(P)$(SM):timer$(N):preset/OUT","$(P)$(SM):timer$(N):calcElapsed.E",1600,730,16777215,"",0)
#! Record("$(P)$(SM):timer$(N):resetOnGo",1360,527,0,0,"$(P)$(SM):timer$(N):resetOnGo")
#! Field("$(P)$(SM):timer$(N):resetOnGo.SDIS",16777215,0,"$(P)$(SM):timer$(N):resetOnGo.SDIS")
#! Link("$(P)$(SM):timer$(N):resetOnGo.SDIS","$(P)$(SM):timer$(N):resetOnGo/SDIS")
#! Field("$(P)$(SM):timer$(N):resetOnGo.OUT",16777215,1,"$(P)$(SM):timer$(N):resetOnGo.OUT")
#! Link("$(P)$(SM):timer$(N):resetOnGo.OUT","$(P)$(SM):timer$(N):resetOnGo/OUT")
#! Field("$(P)$(SM):timer$(N):resetOnGo.FLNK",16777215,1,"$(P)$(SM):timer$(N):resetOnGo.FLNK")
#! Link("$(P)$(SM):timer$(N):resetOnGo.FLNK","$(P)$(SM):timer$(N):startTime")
#! Connector("$(P)$(SM):timer$(N):resetOnGo/OUT","$(P)$(SM):timer$(N):calcElapsed.D",1580,660,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):resetOnGo/SDIS","$(P)$(SM):timer$(N):Go.VAL",1220,630,16777215,"",0)
#! Record("$(P)$(SM):timer$(N):startTime",1820,664,0,0,"$(P)$(SM):timer$(N):startTime")
#! Record("$(P)$(SM):timer$(N):doStop",2660,558,0,1,"$(P)$(SM):timer$(N):doStop")
#! Field("$(P)$(SM):timer$(N):doStop.VAL",16777215,0,"$(P)$(SM):timer$(N):doStop.VAL")
#! Field("$(P)$(SM):timer$(N):doStop.OUT",16777215,1,"$(P)$(SM):timer$(N):doStop.OUT")
#! Link("$(P)$(SM):timer$(N):doStop.OUT","$(P)$(SM):timer$(N):doStop/OUT")
#! Connector("$(P)$(SM):timer$(N):doStop/OUT","$(P)$(SM):timer$(N):doStop/OUT1",2920,855,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):doStop/OUT1","$(P)$(SM):timer$(N):doStop/OUT2",1920,1040,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):doStop/OUT2","$(P)$(SM):timer$(N):Go.VAL",920,805,16777215,"",0)
#! Visibility("$(P)$(SM):timer$(N):doStop.DESC",1)
#! Record("$(P)$(SM):timer$(N):scanFanout",1540,378,0,0,"$(P)$(SM):timer$(N):scanFanout")
#! Field("$(P)$(SM):timer$(N):scanFanout.LNK1",16777215,1,"$(P)$(SM):timer$(N):scanFanout.LNK1")
#! Link("$(P)$(SM):timer$(N):scanFanout.LNK1","$(P)$(SM):timer$(N):currentTime")
#! Field("$(P)$(SM):timer$(N):scanFanout.LNK2",16777215,1,"$(P)$(SM):timer$(N):scanFanout.LNK2")
#! Link("$(P)$(SM):timer$(N):scanFanout.LNK2","$(P)$(SM):timer$(N):scanFanout/LNK2")
#! Connector("$(P)$(SM):timer$(N):scanFanout/LNK2","$(P)$(SM):timer$(N):calcElapsed",1780,440,16777215,"",0)
#! Record("$(P)$(SM):timer$(N):update",1280,309,0,1,"$(P)$(SM):timer$(N):update")
#! Field("$(P)$(SM):timer$(N):update.FLNK",16777215,1,"$(P)$(SM):timer$(N):update.FLNK")
#! Link("$(P)$(SM):timer$(N):update.FLNK","$(P)$(SM):timer$(N):scanFanout")
#! Field("$(P)$(SM):timer$(N):update.SDIS",16777215,0,"$(P)$(SM):timer$(N):update.SDIS")
#! Link("$(P)$(SM):timer$(N):update.SDIS","$(P)$(SM):timer$(N):scan/SDIS")
#! Connector("$(P)$(SM):timer$(N):scan/SDIS","$(P)$(SM):timer$(N):Go.VAL",1220,510,16777215,"",0)
#! Visibility("$(P)$(SM):timer$(N):update.SCAN",1)
#! Record("$(P)$(SM):timer$(N):updateCurrent",1280,204,0,1,"$(P)$(SM):timer$(N):updateCurrent")
#! Field("$(P)$(SM):timer$(N):updateCurrent.FLNK",16777215,1,"$(P)$(SM):timer$(N):updateCurrent.FLNK")
#! Link("$(P)$(SM):timer$(N):updateCurrent.FLNK","$(P)$(SM):timer$(N):currentTime")
#! Field("$(P)$(SM):timer$(N):updateCurrent.SDIS",16777215,0,"$(P)$(SM):timer$(N):updateCurrent.SDIS")
#! Link("$(P)$(SM):timer$(N):updateCurrent.SDIS","$(P)$(SM):timer$(N):Go.VAL")
#! Visibility("$(P)$(SM):timer$(N):updateCurrent.SCAN",1)
#! Record("$(P)$(SM):timer$(N):remainingSecs",2140,713,0,1,"$(P)$(SM):timer$(N):remainingSecs")
#! Field("$(P)$(SM):timer$(N):remainingSecs.VAL",16777215,0,"$(P)$(SM):timer$(N):remainingSecs.VAL")
#! Record("$(P)$(SM):timer$(N):busy",1540,886,0,1,"$(P)$(SM):timer$(N):busy")
#! Field("$(P)$(SM):timer$(N):busy.VAL",16777215,1,"$(P)$(SM):timer$(N):busy.VAL")
#! Record("$(P)$(SM):timer$(N):setBusy",1260,824,0,1,"$(P)$(SM):timer$(N):setBusy")
#! Field("$(P)$(SM):timer$(N):setBusy.A",16777215,0,"$(P)$(SM):timer$(N):setBusy.A")
#! Field("$(P)$(SM):timer$(N):setBusy.OUT",16777215,1,"$(P)$(SM):timer$(N):setBusy.OUT")
#! Link("$(P)$(SM):timer$(N):setBusy.OUT","$(P)$(SM):timer$(N):busy.VAL")
#! Record("$(P)$(SM):timer$(N):clearBusy",2400,724,0,0,"$(P)$(SM):timer$(N):clearBusy")
#! Field("$(P)$(SM):timer$(N):clearBusy.OUT",16777215,1,"$(P)$(SM):timer$(N):clearBusy.OUT")
#! Link("$(P)$(SM):timer$(N):clearBusy.OUT","$(P)$(SM):timer$(N):clearBusy/OUT")
#! Connector("$(P)$(SM):timer$(N):clearBusy/OUT","$(P)$(SM):timer$(N):busy.VAL",2660,890,16777215,"",0)
#! Record("$(P)$(SM):timer$(N):doStop1",2400,529,0,1,"$(P)$(SM):timer$(N):doStop1")
#! Field("$(P)$(SM):timer$(N):doStop1.OUT",16777215,1,"$(P)$(SM):timer$(N):doStop1.OUT")
#! Link("$(P)$(SM):timer$(N):doStop1.OUT","$(P)$(SM):timer$(N):doStop.VAL")
#! Field("$(P)$(SM):timer$(N):doStop1.VAL",16777215,0,"$(P)$(SM):timer$(N):doStop1.VAL")
#! Field("$(P)$(SM):timer$(N):doStop1.FLNK",16777215,1,"$(P)$(SM):timer$(N):doStop1.FLNK")
#! Link("$(P)$(SM):timer$(N):doStop1.FLNK","$(P)$(SM):timer$(N):doStop1/FLNK")
#! Connector("$(P)$(SM):timer$(N):doStop1/FLNK","$(P)$(SM):timer$(N):doStop1/FLNK1",2620,705,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):doStop1/FLNK1","$(P)$(SM):timer$(N):doStop1/FLNK2",2490,720,16777215,"",0)
#! Connector("$(P)$(SM):timer$(N):doStop1/FLNK2","$(P)$(SM):timer$(N):clearBusy",2360,746,16777215,"",0)
